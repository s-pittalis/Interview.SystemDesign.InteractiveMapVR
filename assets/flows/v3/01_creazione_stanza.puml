@startuml
title (1) Creazione Stanza (Shared Mode)

actor User as U
participant Client as C
participant Photon as P
participant Backend as B
participant DB as DB

U -> C: Avvio applicazione / Login
C -> B: POST /auth/login
B --> C: 200 JWT

U -> C: Crea nuova sessione
C -> P: CreateRoom(room_id)
P -> B: webhook game-created
B -> DB: INSERT sessions (state=active, participants=[creator], leader_id=creator)
DB --> B: OK
B --> P: 204 No Content

C -> P: Pubblica propriet√† Room (anchor_uuid, map_ref, ecc.)
note over C,P: Photon gestisce la stanza Shared Mode in cloud.
@enduml
